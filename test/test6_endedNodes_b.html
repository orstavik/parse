<script src="../parse.js"></script>
<script>
  function test(e) {
    console.log([...e.endedNodes()].map(n => n.nodeName), [...e.openNodes()].map(n => n.nodeName));
  }
  window.addEventListener('parse', test, true);
  document.addEventListener('readystatechange', _ => console.log(document.readyState), {once: true});

  customElements.define('web-comp', class WebComp extends HTMLElement{
    constructor() {
      super();
      console.log("constructor");
    }
  });
</script>

<h3>Test of ParserObserver endedNodes</h3>
<main>
  <div>
    <web-comp></web-comp>
    <span>
      <b>Hello sunshine</b>
    </span>
  </div>
  <web-comp></web-comp>
</main>